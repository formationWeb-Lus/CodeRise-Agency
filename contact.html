<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contact ‚Äî CodeRise Agency</title>
  <meta name="description" content="Contactez CodeRise Agency pour un devis ou une formation." />
  <link rel="icon" href="assets/svg/coderise-icon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="assets/css/contact.css">
</head>
<body>
  <header class="site-header">
    <div class="wrap nav">
      <a class="brand" href="index.html"><img src="assets/svg/coderise-logo-horizontal.svg" alt="CodeRise Agency" class="logo-img"></a>
      <nav class="main-nav">
        <a href="index.html">Accueil</a>
        <a href="services.html">Services</a>
        <a href="formations.html">Formations</a>
        <a href="about.html">√Ä propos</a>
      </nav>
    </div>
  </header>

  <main class="section">
    <div class="wrap">
      <h1>Contact / Demande de devis</h1>
      <p class="muted">Remplissez le formulaire ci-dessous et nous vous r√©pondrons rapidement.</p>

      <div class="grid contact-grid">
        <form class="card reveal" onsubmit="submitForm(event)">
          <label class="micro muted">Nom complet</label>
          <input id="nom" placeholder="Ex: Fabrice" required>

          <label class="micro muted">Email</label>
          <input id="email" type="email" placeholder="exemple@domaine.com" required>

          <label class="micro muted">Type de projet</label>
          <select id="projet">
            <option>Site vitrine</option>
            <option>Application mobile</option>
            <option>Logiciel / ERP</option>
            <option>Formation</option>
          </select>

          <label class="micro muted">Message / Brief</label>
          <textarea id="message" placeholder="D√©crivez bri√®vement votre besoin..."></textarea>

          <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:12px">
            <button class="btn btn-outline" type="reset">Effacer</button>
            <button class="btn btn-primary" type="submit">Envoyer</button>
          </div>
        </form>

        <aside class="card reveal">
          <h3>Coordonn√©es</h3>
          <div class="micro muted"><strong>Email</strong><br>contact@coderise.agency</div>
          <div style="margin-top:8px" class="micro muted"><strong>T√©l√©phone</strong><br>+243 99 123 4567 (WhatsApp)</div>
          <div style="margin-top:8px" class="micro muted"><strong>Local</strong><br>Kinshasa, RDC</div>
        </aside>
      </div>
    </div>
  </main>

  <footer class="site-footer">
    <div class="wrap footer-grid">
      <div><img src="assets/svg/coderise-logo-horizontal.svg" alt="CodeRise" class="logo-small"><div class="micro muted">¬© <span id="year6"></span> CodeRise Agency</div></div>
      <nav class="micro muted"><a href="index.html">Accueil</a> ¬∑ <a href="services.html">Services</a></nav>
    </div>
  </footer>

  <!-- üî• Script Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAqngDmCstRleB7nm6q8fKgnB5zXqgbcIM",
      authDomain: "coderise-agency.firebaseapp.com",
      databaseURL: "https://coderise-agency-default-rtdb.firebaseio.com",
      projectId: "coderise-agency",
      storageBucket: "coderise-agency.firebasestorage.app",
      messagingSenderId: "83774037241",
      appId: "1:83774037241:web:38a48dd64585cd0b759628"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    window.submitForm = function (event) {
      event.preventDefault();

      const nom = document.getElementById("nom").value;
      const email = document.getElementById("email").value;
      const projet = document.getElementById("projet").value;
      const message = document.getElementById("message").value;

      const contactRef = ref(db, "contacts");
      const newContact = push(contactRef);

      set(newContact, {
        nom,
        email,
        projet,
        message,
        date: new Date().toLocaleString()
      })
      .then(() => {
        alert("‚úÖ Message envoy√© avec succ√®s !");
        event.target.reset();
      })
      .catch((err) => {
        alert("‚ùå Erreur lors de l‚Äôenvoi : " + err.message);
      });
    };
  </script>
</body>
</html>
