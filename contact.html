<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contact — CodeRise Agency</title>
  <meta name="description" content="Contactez CodeRise Agency pour un devis ou une formation." />
  <link rel="icon" href="images/_CodeRise-Agency-Logo.jpg" type="image/jpeg">
  <link rel="stylesheet" href="assets/css/contact.css">
</head>
<body>
  <!-- ============ HEADER ============ -->
  <header class="site-header">
    <div class="wrap nav">
      <a class="brand" href="index.html">
        <img src="images/_CodeRise-Agency-Logo.jpg" alt="CodeRise Agency" class="logo-img">
      </a>

      <!-- Bouton menu hamburger -->
      <button class="menu-toggle" id="menu-btn" aria-label="Ouvrir le menu">
        <span></span><span></span><span></span>
      </button>

      <!-- Menu principal -->
      <nav class="main-nav" id="main-nav">
        <a href="index.html">Accueil</a>
        <a href="services.html">Services</a>
        <a href="formations.html">Formations</a>
        <a href="about.html">À propos</a>
        <a href="contact.html" class="active">Contact</a>
      </nav>
    </div>
  </header>

  <!-- ============ CONTENU PRINCIPAL ============ -->
  <main class="section">
    <div class="wrap">
      <h1>Contact / Demande de devis</h1>
      <p class="muted">Remplissez le formulaire ci-dessous et nous vous répondrons rapidement.</p>

      <div class="grid contact-grid">
        <!-- Formulaire -->
        <form class="card reveal" onsubmit="submitForm(event)">
          <label class="micro muted">Nom complet</label>
          <input id="nom" placeholder="Ex: Fabrice" required>

          <label class="micro muted">Email</label>
          <input id="email" type="email" placeholder="exemple@domaine.com" required>

          <label class="micro muted">Numéro de téléphone</label>
          <input id="telephone" type="tel" placeholder="+243..." required>

          <label class="micro muted">Type de projet</label>
          <select id="projet">
            <option>Site vitrine</option>
            <option>Application mobile</option>
            <option>Logiciel / ERP</option>
            <option>Formation</option>
          </select>

          <label class="micro muted">Message / Brief</label>
          <textarea id="message" placeholder="Décrivez brièvement votre besoin..." required></textarea>

          <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:12px">
            <button class="btn btn-outline" type="reset">Effacer</button>
            <button class="btn btn-primary" type="submit">Envoyer</button>
          </div>
        </form>

        <!-- Coordonnées -->
        <aside class="card reveal">
          <h3>Coordonnées</h3>
          <div class="micro muted"><strong>Email</strong><br>contact@coderise.agency</div>
          <div style="margin-top:8px" class="micro muted"><strong>Téléphone</strong><br>+243 99 123 4567 (WhatsApp)</div>
          <div style="margin-top:8px" class="micro muted"><strong>Local</strong><br>Kinshasa, RDC</div>
        </aside>
      </div>
    </div>
  </main>

  <!-- ============ FOOTER ============ -->
  <footer class="site-footer">
    <div class="wrap footer-grid">
      <div>
        <div class="micro muted">© <span id="year6"></span> CodeRise Agency</div>
      </div>
      <nav class="micro muted">
        <a href="index.html">Accueil</a> · 
        <a href="services.html">Services</a> · 
        <a href="formations.html">Formations</a>
      </nav>
    </div>
  </footer>

  <!-- ============ SCRIPT FIREBASE ============ -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAqngDmCstRleB7nm6q8fKgnB5zXqgbcIM",
      authDomain: "coderise-agency.firebaseapp.com",
      databaseURL: "https://coderise-agency-default-rtdb.firebaseio.com",
      projectId: "coderise-agency",
      storageBucket: "coderise-agency.firebasestorage.app",
      messagingSenderId: "83774037241",
      appId: "1:83774037241:web:38a48dd64585cd0b759628"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    window.submitForm = function (event) {
      event.preventDefault();

      const nom = document.getElementById("nom").value.trim();
      const email = document.getElementById("email").value.trim();
      const numero = document.getElementById("telephone").value.trim();
      const projet = document.getElementById("projet").value.trim();
      const message = document.getElementById("message").value.trim();

      if (!nom || !email || !numero || !projet || !message) {
        alert("Veuillez remplir tous les champs !");
        return;
      }

      const contactRef = ref(db, "contacts");
      const newContact = push(contactRef);

      set(newContact, {
        nom,
        email,
        numero,
        projet,
        message,
        date: Date.now() // ✅ format universel
      })
      .then(() => {
        alert("✅ Message envoyé avec succès !");
        event.target.reset();
      })
      .catch((err) => {
        alert("❌ Erreur : " + err.message);
      });
    };
  </script>

  <script src="assets/js/main.js"></script>
</body>
</html>

